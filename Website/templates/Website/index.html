{% extends 'Website/base.html' %}

{% block title %}
	<title>Music</title>
{% endblock %}

{% block content %}

<div class="ui center aligned container">
	<div class="row">
		<a href='{% url 'play_it' %}' class='btn btn-danger'>Generate Music</a>
	</div>
</div>
<br>

<div class="ui center aligned container">
	<div class="row">
		<h2>Play the thing</h2>
		<button id='butt' class='btn btn-success' onClick="operate()">Play</button>
	</div>
</div>
<br>

<div id="status" class="ui center aligned container">
	<div class="row">
		<h3><span id="MIDIjs.message" style="color: green">Initializing ...</span></h3>
	</div>
</div>

<script type='text/javascript' src='http://www.midijs.net/lib/midi.js'></script>
<script type="text/javascript">
	function operate()
	{
		if($('#butt').text() == 'Play')
		{
			MIDIjs.play('/media/output.mid');
			$('#butt').removeClass('btn-success');
			$('#butt').addClass('btn-danger');
			$('#butt').text('Stop');
		}
		else
		{
			MIDIjs.stop();
			$('#butt').removeClass('btn-danger');
			$('#butt').addClass('btn-success');
			$('#butt').text('Play');	
		}
	}
</script>

{% endblock %}